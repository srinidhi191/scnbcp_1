# Render manifest for SCNBCP deployment
# This file can be used to automatically set up both services on Render.com
services:
  - type: web
    name: scnbcp-api
    env: docker
    repo: https://github.com/srinidhi191/scnbcp_1
    branch: main
    docker:
      dockerfilePath: apps/api/Dockerfile
    plan: free
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 4000
      # Add these as secret environment variables in Render dashboard:
      # - MONGO_URI (MongoDB connection string)
      # - JWT_SECRET (strong secret for JWT signing)
      # - CLIENT_URL (frontend URL for CORS)
      # - SMTP_HOST, SMTP_PORT, SMTP_USER, SMTP_PASS (optional, for email)

  - type: web
    name: scnbcp-web
    env: static
    repo: https://github.com/srinidhi191/scnbcp_1
    branch: main
    buildCommand: cd apps/web && npm ci && npm run build
    staticPublishPath: apps/web/dist
    routes:
      - type: rewrite
        source: /*
        destination: /index.html